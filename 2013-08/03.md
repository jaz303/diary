## Saturday 3 August 2013

Spent ages fucking about reorganising `curiosity` to work with node-webkit. In the end if was pretty much negative progress, the whole thing is broken now. Extracted the `nw-context` module for sharing document/window objects between contexts then immediately realised this was pointless because I could just assign them to the global object. Oh well. Released the module anyway because some people don't like globals. Going to change tacks here and work on the task/type/IPC mechanism for a while because I'm burned out on the UI stuff.

Wrote a script for managing this diary, a dodgy bit of shell, but it's working so far.

Extracted and published `domutil` module with a bunch of DOM helper functions like `addClass()` and `data()`, most of which I pinched from jQuery.

Started hacking on node-webkit based file tree component but I underestimated what was involved so back to the drawing board on this one. Might pick it up again tomorrow, there's no immediate need for it.

Really need to try a serious project with FP after watching Carmack's talk yesterday. Erlang/Haskell/Clojure/Racket - can see benefits in all of them but no immediate use for any - ramp-up time is too great. I've got this half-baked idea floating about for something entity-system related but it's very vague at the moment. Things I'm thinking:

  * special constructs for components/entities - implies new language or decent macro system
  * higher-level language compiling to C/ASM, in a similar vein to ND's GOAL
  * system side-effects are returned at the end of each frame as an array of deltas (possibly functions?)
    * use some smarts to apply deltas efficiently, or pluggable storage engine for going back in time?

Love the idea of partial application in gamedev terms:

    function giveDamage(amount, enemy) {
      enemy.health -= amount;
    }

    var blaster = giveDamage.bind(this, 3);
    var bomb = giveDamage.bind(this, 100);

That's probably obvious to anyone who's been doing FP for a while but I always seem to have a little "a-ha" moment when presented a use for FP that isn't just updating a text box based on the position of the mouse cursor or something equally useless.

Liked his views on memory protection too, to enforce immutability of last frame's data. Pretty cool.

Itching to work on a serious game project, too much other shit to do though...

Meta: vim's markdown highlighting isn't working.


